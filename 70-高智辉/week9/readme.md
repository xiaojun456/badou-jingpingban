# 改用bert实现ner训练

## LSTM 训练结果
````markdown
2024-03-14 09:57:28,190 - __main__ - INFO - --------------------
2024-03-14 09:57:28,190 - __main__ - INFO - epoch 20 begin
2024-03-14 09:57:28,334 - __main__ - INFO - batch loss 0.008569
2024-03-14 09:57:34,662 - __main__ - INFO - batch loss 0.004580
2024-03-14 09:57:40,937 - __main__ - INFO - batch loss 0.006260
2024-03-14 09:57:40,937 - __main__ - INFO - epoch average loss: 0.005879
2024-03-14 09:57:40,937 - __main__ - INFO - 开始测试第20轮模型效果：
2024-03-14 09:57:42,544 - __main__ - INFO - PERSON类实体，准确率：0.627737, 召回率: 0.443299, F1: 0.519633
2024-03-14 09:57:42,544 - __main__ - INFO - LOCATION类实体，准确率：0.692982, 召回率: 0.661088, F1: 0.676655
2024-03-14 09:57:42,544 - __main__ - INFO - TIME类实体，准确率：0.862745, 召回率: 0.741573, F1: 0.797578
2024-03-14 09:57:42,544 - __main__ - INFO - ORGANIZATION类实体，准确率：0.588889, 召回率: 0.557895, F1: 0.572968
2024-03-14 09:57:42,544 - __main__ - INFO - Macro-F1: 0.641708
2024-03-14 09:57:42,544 - __main__ - INFO - Micro-F1 0.652963
2024-03-14 09:57:42,544 - __main__ - INFO - --------------------
````

## bert 训练结果
```markdown
2024-03-14 15:00:41,600 - __main__ - INFO - --------------------
2024-03-14 15:00:41,600 - __main__ - INFO - epoch 20 begin
2024-03-14 15:00:41,834 - __main__ - INFO - batch loss 0.507882
2024-03-14 15:00:49,486 - __main__ - INFO - batch loss 0.115062
2024-03-14 15:00:56,994 - __main__ - INFO - batch loss 0.021931
2024-03-14 15:00:56,995 - __main__ - INFO - epoch average loss: 0.525549
2024-03-14 15:00:56,995 - __main__ - INFO - 开始测试第20轮模型效果：
2024-03-14 15:00:58,322 - __main__ - INFO - PERSON类实体，准确率：0.470085, 召回率: 0.283505, F1: 0.353693
2024-03-14 15:00:58,323 - __main__ - INFO - LOCATION类实体，准确率：0.650794, 召回率: 0.514644, F1: 0.574761
2024-03-14 15:00:58,323 - __main__ - INFO - TIME类实体，准确率：0.827068, 召回率: 0.617977, F1: 0.707391
2024-03-14 15:00:58,323 - __main__ - INFO - ORGANIZATION类实体，准确率：0.512195, 召回率: 0.221053, F1: 0.308819
2024-03-14 15:00:58,323 - __main__ - INFO - Macro-F1: 0.486166
2024-03-14 15:00:58,323 - __main__ - INFO - Micro-F1 0.521074
```

## 结果分析
```markdown
2024-03-18 11:10:36,095 - __main__ - INFO - epoch 20 begin
2024-03-18 11:10:36,270 - __main__ - INFO - batch loss 0.501638
2024-03-18 11:10:43,785 - __main__ - INFO - batch loss 0.656590
2024-03-18 11:10:51,212 - __main__ - INFO - batch loss 0.602377
2024-03-18 11:10:51,212 - __main__ - INFO - epoch average loss: 0.492944
2024-03-18 11:10:51,212 - __main__ - INFO - 开始测试第20轮模型效果：
2024-03-18 11:10:52,488 - __main__ - INFO - PERSON类实体，准确率：0.668919, 召回率: 0.512953, F1: 0.580640
2024-03-18 11:10:52,488 - __main__ - INFO - LOCATION类实体，准确率：0.682464, 召回率: 0.602510, F1: 0.639995
2024-03-18 11:10:52,488 - __main__ - INFO - TIME类实体，准确率：0.874126, 召回率: 0.702247, F1: 0.778811
2024-03-18 11:10:52,488 - __main__ - INFO - ORGANIZATION类实体，准确率：0.528571, 召回率: 0.389474, F1: 0.448480
2024-03-18 11:10:52,488 - __main__ - INFO - Macro-F1: 0.611982
2024-03-18 11:10:52,488 - __main__ - INFO - Micro-F1 0.634294
```